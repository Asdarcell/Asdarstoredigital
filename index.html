<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Asdar Store Digital</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    * {
      margin: 0; padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    body {
      background: linear-gradient(to right, #e8f0ff, #ffffff);
      color: #333;
      padding: 16px;
    }

    header {
      text-align: center;
      padding: 30px 16px;
      background: #007BFF;
      color: white;
      border-radius: 16px;
      margin-bottom: 24px;
    }

    header h1 {
      font-size: 2.4em;
      margin-bottom: 10px;
    }

    header p {
      font-size: 1.1em;
      color: #e0eaff;
    }

    .card {
      background: #fff;
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
      margin-bottom: 24px;
      transition: 0.3s ease;
    }

    .card:hover {
      transform: scale(1.01);
    }

    .card h2 {
      font-size: 1.4em;
      margin-bottom: 12px;
      color: #007BFF;
      border-bottom: 1px solid #ddd;
      padding-bottom: 6px;
    }

    .btn {
      background: #007BFF;
      color: white;
      padding: 12px 20px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 14px;
      transition: background 0.3s ease;
    }

    .btn:hover {
      background: #0056b3;
    }

    input, select, textarea {
      width: 100%;
      padding: 12px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 10px;
      font-size: 1em;
    }

    #previewImage {
      margin-top: 10px;
      max-width: 100%;
      border-radius: 10px;
      box-shadow: 0 0 6px rgba(0,0,0,0.1);
    }

    .payment-box {
      background: #eef3ff;
      padding: 14px;
      border-radius: 12px;
      text-align: center;
      font-weight: bold;
      color: #333;
      line-height: 1.6;
      margin-top: 16px;
    }

    footer {
      text-align: center;
      margin-top: 40px;
      color: #777;
      font-size: 0.9em;
    }

    /* Testimoni */
    .testimoni-container {
      position: relative;
      height: 160px;
      overflow: hidden;
      background: #f4f8ff;
      border-radius: 10px;
      padding: 10px;
    }

    .testimoni-item {
      background: #dce8ff;
      color: #222;
      padding: 10px 14px;
      border-radius: 8px;
      margin-bottom: 8px;
      animation: slideUp 20s linear infinite;
      white-space: nowrap;
    }

    @keyframes slideUp {
      0% { transform: translateY(100%); }
      100% { transform: translateY(-200%); }
    }
  </style>
</head>
<body>

  <header>
    <h1>Asdar Store Digital</h1>
    <p>üíé Cepat ¬∑ Aman ¬∑ Terpercaya üíé</p>
  </header>

  <!-- Produk -->
  <section class="card">
    <h2>üõí Pilih Produk</h2>
    <select id="kategoriProduk" onchange="updateVarian()">
      <option value="">Pilih kategori...</option>
      <option value="kvision">K-Vision</option>
      <option value="nex">Nex Parabola</option>
      <option value="mnc">MNC Vision</option>
    </select>
    <select id="varianProduk">
      <option value="">Pilih paket...</option>
    </select>
    <button class="btn" onclick="pesanSekarang()">Pesan Sekarang</button>
  </section>

  <!-- Upload bukti -->
  <section class="card" id="uploadSection" style="display:none;">
    <h2>üì§ Upload Bukti Pembayaran</h2>
    <input type="file" id="buktiBayar" accept="image/*" onchange="previewImage(event)" />
    <img id="previewImage" />
    <div class="payment-box">
      üü£ <b>PAYMENT</b> üü£<br/>
      ShopeePay: <b>081803004607</b><br/>
      DANA: <b>087755432880</b>
    </div>
    <button class="btn" onclick="uploadGambar()">Kirim ke WhatsApp</button>
  </section>

  <!-- Testimoni -->
  <section class="card">
    <h2>üí¨ Testimoni Pelanggan</h2>
    <textarea id="inputTesti" placeholder="Tulis testimoni Anda..."></textarea>
    <button class="btn" onclick="kirimTestimoni()">Kirim Testimoni</button>
    <div class="testimoni-container" id="listTestimoni"></div>
  </section>

  <footer>
    &copy; 2025 Asdar Store Digital ¬∑ All Rights Reserved
  </footer>

  <script>
    const testimoniNegatif = ["jelek", "penipu", "bohong", "gagal", "tidak sesuai", "buruk"];
    const hargaProduk = {
      "K-Vision|Cling 30 Hari": 30000,
      "K-Vision|Liga 1": 35000,
      "K-Vision|Timnas": 30000,
      "K-Vision|Paket Film": 40000,
      "Nex Parabola|Basic 30 Hari": 35000,
      "Nex Parabola|Basic 90 Hari": 90000,
      "MNC Vision|Jawara 30 Hari": 40000,
      "MNC Vision|Timnas": 35000
    };

    function updateVarian() {
      const varian = document.getElementById("varianProduk");
      const kategori = document.getElementById("kategoriProduk").value;
      varian.innerHTML = "";
      let opsi = [];
      if (kategori === "kvision") opsi = ["Cling 30 Hari", "Liga 1", "Timnas", "Paket Film"];
      if (kategori === "nex") opsi = ["Basic 30 Hari", "Basic 90 Hari"];
      if (kategori === "mnc") opsi = ["Jawara 30 Hari", "Timnas"];
      opsi.forEach(v => {
        const opt = document.createElement("option");
        opt.value = v;
        opt.textContent = v;
        varian.appendChild(opt);
      });
    }

    let hargaTerpilih = 0;
    let produkTerpilih = "";

    function pesanSekarang() {
      const kategori = document.getElementById("kategoriProduk").value;
      const varian = document.getElementById("varianProduk").value;
      if (!kategori || !varian) {
        alert("Pilih kategori dan varian terlebih dahulu.");
        return;
      }

      const namaKategori = kategori === "kvision" ? "K-Vision" : kategori === "nex" ? "Nex Parabola" : "MNC Vision";
      const key = `${namaKategori}|${varian}`;
      const harga = hargaProduk[key] || 0;

      if (harga === 0) {
        alert("Harga belum tersedia.");
        return;
      }

      produkTerpilih = `${namaKategori} - ${varian}`;
      hargaTerpilih = harga;

      alert(`üí∞ Silakan bayar Rp${harga.toLocaleString()} ke DANA 087755432880.\nKemudian upload bukti pembayaran.`);

      document.getElementById("uploadSection").style.display = "block";
      document.getElementById("uploadSection").scrollIntoView({ behavior: "smooth" });
    }

    function previewImage(event) {
      const image = document.getElementById('previewImage');
      image.src = URL.createObjectURL(event.target.files[0]);
    }

    function uploadGambar() {
      const file = document.getElementById("buktiBayar").files[0];
      if (!file) return alert("Upload gambar terlebih dahulu.");

      const formData = new FormData();
      formData.append("image", file);

      fetch("https://api.imgbb.com/1/upload?key=f71ccc1a662c9f8656766990018d3a33", {
        method: "POST",
        body: formData
      })
      .then(res => res.json())
      .then(data => {
        const linkGambar = data.data.url;
        const pesan = `Halo Admin, saya sudah bayar sebesar Rp${hargaTerpilih.toLocaleString()} untuk ${produkTerpilih}. Berikut bukti pembayaran:\n${linkGambar}`;
        const nomorWA = "081803004607";
        window.open(`https://wa.me/${nomorWA}?text=${encodeURIComponent(pesan)}`, "_blank");
      })
      .catch(() => alert("‚ùå Gagal upload gambar."));
    }

    function kirimTestimoni() {
      const isi = document.getElementById("inputTesti").value.toLowerCase();
      if (!isi) return;

      const dilarang = testimoniNegatif.some(kata => isi.includes(kata));
      if (dilarang) return alert("Testimoni mengandung kata negatif ‚ùó");

      const div = document.createElement("div");
      div.className = "testimoni-item";
      div.textContent = isi;
      document.getElementById("listTestimoni").appendChild(div);
      document.getElementById("inputTesti").value = "";
    }
  </script>

</body>
</html>
