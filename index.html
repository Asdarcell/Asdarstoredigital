<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Asdar Store Digital</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    * {
      margin: 0; padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    body {
      background: #f3f9ff;
      color: #333;
      padding: 16px;
    }

    header {
      text-align: center;
      padding: 20px;
    }

    header h1 {
      font-size: 2em;
      color: #007BFF;
    }

    header p {
      font-size: 1em;
      color: #666;
    }

    .card {
      background: #fff;
      border-radius: 16px;
      padding: 16px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
      margin-bottom: 24px;
    }

    .card h2 {
      font-size: 1.2em;
      margin-bottom: 8px;
    }

    .btn {
      background: #007BFF;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 12px;
    }

    .btn:hover {
      background: #0056b3;
    }

    input, select, textarea {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
    }

    .testimoni-list {
      max-height: 200px;
      overflow-y: auto;
      margin-top: 12px;
    }

    .testimoni-item {
      background: #eef4ff;
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 8px;
    }

    footer {
      text-align: center;
      margin-top: 32px;
      color: #888;
      font-size: 0.9em;
    }
  </style>
</head>
<body>

  <header>
    <h1>Asdar Store Digital</h1>
    <p>Cepat, Aman, Terpercaya</p>
  </header>

  <!-- Produk -->
  <section class="card">
    <h2>Produk Voucher</h2>
    <select id="kategoriProduk" onchange="updateVarian()">
      <option value="">Pilih kategori...</option>
      <option value="kvision">K-Vision</option>
      <option value="nex">Nex Parabola</option>
      <option value="mnc">MNC Vision</option>
    </select>
    <select id="varianProduk">
      <option value="">Pilih paket...</option>
    </select>
    <button class="btn" onclick="pesanSekarang()">Pesan Sekarang</button>
  </section>

  <!-- Upload bukti -->
  <section class="card" id="uploadSection" style="display:none;">
    <h2>Upload Bukti Pembayaran</h2>
    <input type="file" id="buktiBayar" accept="image/*" />
    <button class="btn" onclick="kirimWA()">Kirim ke WhatsApp</button>
  </section>

  <!-- Testimoni -->
  <section class="card">
    <h2>Testimoni Pelanggan</h2>
    <textarea id="inputTesti" placeholder="Tulis testimoni Anda..."></textarea>
    <button class="btn" onclick="kirimTestimoni()">Kirim Testimoni</button>
    <div class="testimoni-list" id="listTestimoni">
      <!-- Testimoni akan ditampilkan di sini -->
    </div>
  </section>

  <footer>
    &copy; 2025 Asdar Store Digital
  </footer>

  <script>
    const testimoniContainer = document.getElementById("listTestimoni");
    const testimoniNegatif = ["jelek", "penipu", "bohong", "gagal", "tidak sesuai", "buruk"];
    const hargaProduk = {
      "K-Vision|Cling 30 Hari": 30000,
      "K-Vision|Liga 1": 35000,
      "K-Vision|Timnas": 30000,
      "K-Vision|Paket Film": 40000,
      "Nex Parabola|Basic 30 Hari": 35000,
      "Nex Parabola|Basic 90 Hari": 90000,
      "MNC Vision|Jawara 30 Hari": 40000,
      "MNC Vision|Timnas": 35000
    };

    function updateVarian() {
      const varian = document.getElementById("varianProduk");
      const kategori = document.getElementById("kategoriProduk").value;
      varian.innerHTML = "";

      let opsi = [];
      if (kategori === "kvision") {
        opsi = ["Cling 30 Hari", "Liga 1", "Timnas", "Paket Film"];
      } else if (kategori === "nex") {
        opsi = ["Basic 30 Hari", "Basic 90 Hari"];
      } else if (kategori === "mnc") {
        opsi = ["Jawara 30 Hari", "Timnas"];
      }

      opsi.forEach(v => {
        const opt = document.createElement("option");
        opt.value = v;
        opt.textContent = v;
        varian.appendChild(opt);
      });
    }

    function pesanSekarang() {
      const kategori = document.getElementById("kategoriProduk").value;
      const varian = document.getElementById("varianProduk").value;
      if (!kategori || !varian) {
        alert("Pilih kategori dan varian terlebih dahulu.");
        return;
      }

      const key = `${kategori.charAt(0).toUpperCase() + kategori.slice(1)}|${varian}`;
      const harga = hargaProduk[key] || 0;

      if (harga === 0) {
        alert("Harga belum tersedia.");
        return;
      }

      alert(`Silakan lakukan pembayaran sebesar Rp${harga.toLocaleString()} ke DANA 087755432880.`);

      document.getElementById("uploadSection").scrollIntoView({ behavior: "smooth" });
      document.getElementById("uploadSection").style.display = "block";
    }

    function kirimWA() {
      const fileInput = document.getElementById("buktiBayar");
      if (!fileInput.files[0]) {
        alert("Silakan upload bukti pembayaran terlebih dahulu.");
        return;
      }

      const nomorTujuan = "081803004607";
      const pesan = encodeURIComponent("Halo admin, saya sudah melakukan pembayaran dan upload bukti.");
      window.open(`https://wa.me/${nomorTujuan}?text=${pesan}`, "_blank");
    }

    function kirimTestimoni() {
      const testi = document.getElementById("inputTesti").value.toLowerCase();
      if (!testi) return;

      const dilarang = testimoniNegatif.some(kata => testi.includes(kata));
      if (dilarang) {
        alert("Testimoni tidak diterima karena mengandung kata negatif.");
        return;
      }

      const div = document.createElement("div");
      div.className = "testimoni-item";
      div.textContent = testi;
      testimoniContainer.prepend(div);
      document.getElementById("inputTesti").value = "";
    }
  </script>

</body>
</html>
