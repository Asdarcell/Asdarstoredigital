<!DOCTYPE html>
<html lang="id">
<head>

Â  <meta charset="UTF-8" />

Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

Â  <title>Asdar Store Digital</title>

Â  <link rel="icon" href="favicon.png" />

Â  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

Â  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />

Â  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

Â  <style>

Â  Â  /* Variabel Tema */

Â  Â  :root {

Â  Â  Â  --bg: #f9f9f9;

Â  Â  Â  --text: #2c3e50;

Â  Â  Â  --primary: #3498db;

Â  Â  Â  --card: #ffffff;

Â  Â  Â  --border: #ddd;

Â  Â  Â  --shadow: rgba(0,0,0,0.05);

Â  Â  }

Â  Â  [data-theme="dark"] {

Â  Â  Â  --bg: #1a1a2e;

Â  Â  Â  --text: #e0e0e0;

Â  Â  Â  --primary: #1abc9c;

Â  Â  Â  --card: #2c2c40;

Â  Â  Â  --border: #444;

Â  Â  Â  --shadow: rgba(0,0,0,0.15);

Â  Â  }



Â  Â  /* General Styles */

Â  Â  body {

Â  Â  Â  font-family: 'Poppins', sans-serif;

Â  Â  Â  background: var(--bg);

Â  Â  Â  color: var(--text);

Â  Â  Â  transition: all 0.3s ease;

Â  Â  Â  margin: 0;

Â  Â  Â  line-height: 1.6;

Â  Â  }

Â  Â  header {

Â  Â  Â  position: sticky;

Â  Â  Â  top: 0;

Â  Â  Â  background: var(--card);

Â  Â  Â  padding: 15px 20px;

Â  Â  Â  display: flex;

Â  Â  Â  justify-content: space-between;

Â  Â  Â  align-items: center;

Â  Â  Â  border-bottom: 1px solid var(--border);

Â  Â  Â  z-index: 999;

Â  Â  Â  transition: box-shadow 0.3s ease;

Â  Â  }

Â  Â  header.scrolled {

Â  Â  Â  Â  box-shadow: 0 4px 12px var(--shadow);

Â  Â  }

Â  Â  header h1 {

Â  Â  Â  margin: 0;

Â  Â  Â  font-size: 24px;

Â  Â  Â  color: var(--primary);

Â  Â  }

Â  Â  .theme-btn {

Â  Â  Â  background: transparent;

Â  Â  Â  border: none;

Â  Â  Â  font-size: 22px;

Â  Â  Â  cursor: pointer;

Â  Â  Â  color: var(--text);

Â  Â  Â  transition: color 0.3s ease;

Â  Â  }

Â  Â  .theme-btn:hover {

Â  Â  Â  Â  color: var(--primary);

Â  Â  }

Â  Â  main {

Â  Â  Â  max-width: 700px;

Â  Â  Â  margin: 20px auto;

Â  Â  Â  padding: 0 20px;

Â  Â  }



Â  Â  /* Form & Input Styles */

Â  Â  label {

Â  Â  Â  font-weight: 600;

Â  Â  Â  margin-top: 15px;

Â  Â  Â  display: block;

Â  Â  Â  color: var(--text);

Â  Â  }

Â  Â  input, select, textarea {

Â  Â  Â  width: 100%;

Â  Â  Â  padding: 12px;

Â  Â  Â  margin-top: 8px;

Â  Â  Â  margin-bottom: 15px;

Â  Â  Â  border-radius: 8px;

Â  Â  Â  border: 1px solid var(--border);

Â  Â  Â  background-color: var(--card);

Â  Â  Â  color: var(--text);

Â  Â  Â  transition: border-color 0.3s ease, background-color 0.3s ease;

Â  Â  }

Â  Â  input:focus, select:focus, textarea:focus {

Â  Â  Â  Â  border-color: var(--primary);

Â  Â  Â  Â  outline: none;

Â  Â  Â  Â  box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);

Â  Â  }

Â  Â  button {

Â  Â  Â  width: 100%;

Â  Â  Â  padding: 12px;

Â  Â  Â  margin-top: 10px;

Â  Â  Â  border-radius: 8px;

Â  Â  Â  border: none;

Â  Â  Â  background: var(--primary);

Â  Â  Â  color: white;

Â  Â  Â  cursor: pointer;

Â  Â  Â  font-weight: bold;

Â  Â  Â  font-size: 16px;

Â  Â  Â  transition: background-color 0.3s ease, transform 0.2s ease;

Â  Â  }

Â  Â  button:hover {

Â  Â  Â  opacity: 0.9;

Â  Â  Â  transform: translateY(-1px);

Â  Â  }

Â  Â  button:active {

Â  Â  Â  Â  transform: translateY(0);

Â  Â  }



Â  Â  /* Info Box */

Â  Â  .info {

Â  Â  Â  background: var(--card);

Â  Â  Â  padding: 15px;

Â  Â  Â  margin-top: 20px;

Â  Â  Â  border-left: 5px solid var(--primary);

Â  Â  Â  border-radius: 8px;

Â  Â  Â  box-shadow: 0 2px 8px var(--shadow);

Â  Â  }



Â  Â  /* --- Testimonial Chat Style --- */

Â  Â  #testimoniContainer {

Â  Â  Â  background: var(--card);

Â  Â  Â  border-radius: 12px;

Â  Â  Â  padding: 20px;

Â  Â  Â  height: 400px; /* Tinggi box testimoni */

Â  Â  Â  overflow: hidden; /* Sembunyikan bubble yang keluar box */

Â  Â  Â  position: relative;

Â  Â  Â  box-shadow: 0 4px 12px var(--shadow);

Â  Â  Â  border: 1px solid var(--border);

Â  Â  }

Â  Â  .testimonial-bubble {

Â  Â  Â  background-color: var(--primary);

Â  Â  Â  color: white;

Â  Â  Â  padding: 10px 15px;

Â  Â  Â  border-radius: 20px 20px 20px 5px;

Â  Â  Â  margin-bottom: 15px;

Â  Â  Â  max-width: 80%;

Â  Â  Â  align-self: flex-start;

Â  Â  Â  opacity: 0;

Â  Â  Â  animation: slideInUp 0.5s ease-out forwards, fadeOut 0.5s ease-in 10s forwards; /* Muncul, lalu hilang setelah 10 detik */

Â  Â  }

Â  Â  .testimonial-bubble b {

Â  Â  Â  display: block;

Â  Â  Â  font-size: 0.9em;

Â  Â  Â  opacity: 0.8;

Â  Â  }

Â  Â  @keyframes slideInUp {

Â  Â  Â  from { transform: translateY(50px); opacity: 0; }

Â  Â  Â  to { transform: translateY(0); opacity: 1; }

Â  Â  }

Â  Â  @keyframes fadeOut {

Â  Â  Â  from { opacity: 1; }

Â  Â  Â  to { opacity: 0; height: 0; padding: 0; margin: 0; border: 0; }

Â  Â  }





Â  Â  /* Result Section */

Â  Â  #hasil {

Â  Â  Â  Â  margin-top: 30px;

Â  Â  Â  Â  background: var(--card);

Â  Â  Â  Â  padding: 20px;

Â  Â  Â  Â  border-radius: 8px;

Â  Â  Â  Â  box-shadow: 0 2px 8px var(--shadow);

Â  Â  }

Â  Â  .qr-btn {

Â  Â  Â  margin-top: 15px;

Â  Â  Â  padding: 12px 20px;

Â  Â  Â  text-align: center;

Â  Â  Â  border-radius: 8px;

Â  Â  Â  text-decoration: none;

Â  Â  Â  display: inline-block; /* Ubah ke inline-block */

Â  Â  Â  width: calc(50% - 10px); /* Buat jadi 2 tombol per baris */

Â  Â  Â  font-weight: bold;

Â  Â  Â  transition: background-color 0.3s ease, transform 0.2s ease;

Â  Â  Â  color: white !important;

Â  Â  }

Â  Â  .qr-btn.upload { background: #28a745; }

Â  Â  .qr-btn.status { background: #17a2b8; }

Â  Â  .qr-btn:hover { opacity: 0.9; }



Â  Â  hr {

Â  Â  Â  Â  margin: 40px 0;

Â  Â  Â  Â  border: 0;

Â  Â  Â  Â  border-top: 1px solid var(--border);

Â  Â  }

Â  Â  h2 {

Â  Â  Â  Â  color: var(--primary);

Â  Â  Â  Â  margin-top: 30px;

Â  Â  Â  Â  margin-bottom: 20px;

Â  Â  Â  Â  text-align: center;

Â  Â  }

Â  Â  .section-container {

Â  Â  Â  Â  background: var(--card);

Â  Â  Â  Â  padding: 25px;

Â  Â  Â  Â  border-radius: 12px;

Â  Â  Â  Â  box-shadow: 0 4px 12px var(--shadow);

Â  Â  Â  Â  margin-top: 20px;

Â  Â  }

Â  Â Â 

Â  Â  /* --- FAQ Section Style --- */

Â  Â  .faq-item {

Â  Â  Â  Â  border-bottom: 1px solid var(--border);

Â  Â  Â  Â  padding: 15px 0;

Â  Â  }

Â  Â  .faq-item:last-child {

Â  Â  Â  Â  border-bottom: none;

Â  Â  }

Â  Â  .faq-question {

Â  Â  Â  Â  cursor: pointer;

Â  Â  Â  Â  font-weight: 600;

Â  Â  Â  Â  display: flex;

Â  Â  Â  Â  justify-content: space-between;

Â  Â  Â  Â  align-items: center;

Â  Â  }

Â  Â  .faq-question::after {

Â  Â  Â  Â  content: 'â–¼';

Â  Â  Â  Â  font-size: 12px;

Â  Â  Â  Â  transition: transform 0.3s ease;

Â  Â  }

Â  Â  .faq-answer {

Â  Â  Â  Â  max-height: 0;

Â  Â  Â  Â  overflow: hidden;

Â  Â  Â  Â  transition: max-height 0.3s ease, padding-top 0.3s ease;

Â  Â  Â  Â  padding-top: 0;

Â  Â  }

Â  Â  .faq-item.active .faq-answer {

Â  Â  Â  Â  padding-top: 15px;

Â  Â  Â  Â  max-height: 200px; /* Sesuaikan jika jawaban lebih panjang */

Â  Â  }

Â  Â  .faq-item.active .faq-question::after {

Â  Â  Â  Â  transform: rotate(180deg);

Â  Â  }



Â  </style>

</head>

<body data-theme="light">

Â  <header id="header">

Â  Â  <h1>Asdar Store Digital</h1>

Â  Â  <button class="theme-btn" onclick="toggleTheme()" id="themeToggle">ðŸŒ™</button>

Â  </header>



Â  <main id="main-content">

Â  Â  <div data-aos="fade-up" class="section-container">

Â  Â  Â  <form id="formPesanan">

Â  Â  Â  Â  <label for="nama">Nama Lengkap</label>

Â  Â  Â  Â  <input type="text" id="nama" placeholder="Cth: Budi Santoso" required />

Â  Â  Â  Â  <label for="nomor">Nomor HP / ID Game</label>

Â  Â  Â  Â  <input type="text" id="nomor" placeholder="Cth: 081234567890 atau ID Game Anda" required />

Â  Â  Â  Â  <label for="waAktif">Nomor WhatsApp Aktif</label>

Â  Â  Â  Â  <input type="tel" id="waAktif" placeholder="Cth: 081234567890" pattern="^(08|62)[0-9]{8,15}$" required />

Â  Â  Â  Â  <label for="kategori">Kategori Produk</label>

Â  Â  Â  Â  <select id="kategori" required><option value="">Pilih Kategori</option></select>

Â  Â  Â  Â  <label for="produk">Produk</label>

Â  Â  Â  Â  <select id="produk" required><option value="">Pilih Produk</option></select>

Â  Â  Â  Â  <div class="info" id="infoProduk">Harga dan deskripsi akan muncul di sini.</div>

Â  Â  Â  Â  <button type="submit">Pesan Sekarang</button>

Â  Â  Â  </form>

Â  Â  </div>



Â  Â  <div id="hasil" style="display: none;"></div>

Â  Â  <hr>

Â  Â Â 

Â  Â  <div data-aos="fade-up">

Â  Â  Â  Â  <h2>Testimoni Pelanggan Kami</h2>

Â  Â  Â  Â  <div id="testimoniContainer">

Â  Â  Â  Â  Â  Â  </div>

Â  Â  </div>

Â  Â Â 

Â  Â  <div data-aos="fade-up" class="section-container">

Â  Â  Â  Â  <h2>Beri Kami Testimoni</h2>

Â  Â  Â  Â  <form id="formTestimoni">

Â  Â  Â  Â  Â  Â  <label for="testiNama">Nama Anda</label>

Â  Â  Â  Â  Â  Â  <input type="text" id="testiNama" placeholder="Nama Anda" required>

Â  Â  Â  Â  Â  Â  <label for="testiPesan">Pesan Anda</label>

Â  Â  Â  Â  Â  Â  <textarea id="testiPesan" rows="4" placeholder="Bagaimana pengalaman Anda berbelanja di sini?" required></textarea>

Â  Â  Â  Â  Â  Â  <button type="submit">Kirim Testimoni</button>

Â  Â  Â  Â  Â  Â  <p id="testiStatus" style="text-align:center; margin-top:10px;"></p>

Â  Â  Â  Â  </form>

Â  Â  </div>



Â  Â  <hr>

Â  Â Â 

Â  Â  <div data-aos="fade-up">

Â  Â  Â  Â  <h2>Ada Pertanyaan?</h2>

Â  Â  Â  Â  <div class="section-container" id="faq-container">

Â  Â  Â  Â  Â  Â  </div>

Â  Â  </div>

Â  Â Â 

Â  Â  <hr>



Â  Â  <div data-aos="fade-up" class="section-container">

Â  Â  Â  Â  <h2>Cek Status Pesanan Anda</h2>

Â  Â  Â  Â  <form onsubmit="event.preventDefault(); cekStatus();">

Â  Â  Â  Â  Â  <label for="idCek">Masukkan ID Pesanan</label>

Â  Â  Â  Â  Â  <input type="text" id="idCek" placeholder="Cth: P16789..." required />

Â  Â  Â  Â  Â  <button type="submit">Cek Status</button>

Â  Â  Â  Â  </form>

Â  Â  </div>

Â  Â Â 

Â  Â  <div id="dynamic-content-area" style="margin-top: 20px;"></div>

Â  </main>



Â  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>

Â  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

Â  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-functions.js"></script>

Â  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

Â  <script>

Â  Â  // Inisialisasi AOS (Animasi)

Â  Â  AOS.init({

Â  Â  Â  Â  duration: 800, // Durasi animasi

Â  Â  Â  Â  once: true, // Animasi hanya terjadi sekali

Â  Â  Â  Â  offset: 50, // Memicu animasi sedikit lebih awal

Â  Â  });



Â  Â  const firebaseConfig = {

Â  Â  Â  apiKey: "AIzaSyA_L6U3HKM1DnKuq_Q1zKFH4bk8GMAz210",

Â  Â  Â  authDomain: "asdarstoredigitalll-d89c4.firebaseapp.com",

Â  Â  Â  databaseURL: "https://asdarstoredigitalll-d89c4-default-rtdb.firebaseio.com",

Â  Â  Â  projectId: "asdarstoredigitalll-d89c4",

Â  Â  Â  storageBucket: "asdarstoredigitalll.appspot.com",

Â  Â  Â  messagingSenderId: "220670500351",

Â  Â  Â  appId: "1:220670500351:web:5737ae5958a6f5a67d5bca"

Â  Â  };

Â  Â  firebase.initializeApp(firebaseConfig);

Â  Â  const db = firebase.database();

Â  Â  const functions = firebase.functions();



Â  Â  const ADMIN_WA_NUMBER = "6281803004607";

Â  Â  const ADMIN_PANEL_LINK = "https://asdarcell.github.io/Asdarstoredigital/admin.html";



Â  Â  const kategoriSelect = document.getElementById('kategori');

Â  Â  const produkSelect = document.getElementById('produk');

Â  Â  const infoProduk = document.getElementById('infoProduk');

Â  Â  const hasilDiv = document.getElementById('hasil');



Â  Â  const formatRupiah = (angka) => angka.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");

Â  Â  const normalizePhone = (num) => {

Â  Â  Â  Â  if (!num) return '';

Â  Â  Â  Â  let n = String(num).replace(/[^0-9]/g, '');

Â  Â  Â  Â  if (n.startsWith('0')) n = '62' + n.slice(1);

Â  Â  Â  Â  return n;

Â  Â  };

Â  Â  window.toggleTheme = () => {

Â  Â  Â  Â  const theme = document.body.getAttribute('data-theme') === 'light' ? 'dark' : 'light';

Â  Â  Â  Â  document.body.setAttribute('data-theme', theme);

Â  Â  Â  Â  document.getElementById('themeToggle').textContent = theme === 'light' ? 'ðŸŒ™' : 'â˜€ï¸';

Â  Â  Â  Â  localStorage.setItem('theme', theme);

Â  Â  };

Â  Â  if (localStorage.getItem('theme')) {

Â  Â  Â  Â  document.body.setAttribute('data-theme', localStorage.getItem('theme'));

Â  Â  Â  Â  document.getElementById('themeToggle').textContent = localStorage.getItem('theme') === 'light' ? 'ðŸŒ™' : 'â˜€ï¸';

Â  Â  }

Â  Â Â 

Â  Â  // Efek shadow pada header saat scroll

Â  Â  window.addEventListener('scroll', () => {

Â  Â  Â  Â  const header = document.getElementById('header');

Â  Â  Â  Â  if (window.scrollY > 10) {

Â  Â  Â  Â  Â  Â  header.classList.add('scrolled');

Â  Â  Â  Â  } else {

Â  Â  Â  Â  Â  Â  header.classList.remove('scrolled');

Â  Â  Â  Â  }

Â  Â  });



Â  Â  async function sendWhatsApp(to, message) {

Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  const sendWaMessage = functions.httpsCallable('sendWaMessage');

Â  Â  Â  Â  Â  Â  await sendWaMessage({ to, message });

Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  console.error("Gagal memanggil Cloud Function:", error);

Â  Â  Â  Â  }

Â  Â  }



Â  Â  db.ref('produk').once('value').then(snapshot => {

Â  Â  Â  Â  const data = snapshot.val() || {};

Â  Â  Â  Â  kategoriSelect.innerHTML = '<option value="">Pilih Kategori</option>';

Â  Â  Â  Â  for (let kategori in data) {

Â  Â  Â  Â  Â  Â  kategoriSelect.innerHTML += `<option value="${kategori}">${kategori}</option>`;

Â  Â  Â  Â  }

Â  Â  });



Â  Â  kategoriSelect.addEventListener('change', () => {

Â  Â  Â  Â  produkSelect.innerHTML = '<option value="">Pilih Produk</option>';

Â  Â  Â  Â  infoProduk.innerHTML = 'Harga dan deskripsi akan muncul di sini.';

Â  Â  Â  Â  const kategori = kategoriSelect.value;

Â  Â  Â  Â  if (!kategori) return;

Â  Â  Â  Â  db.ref(`produk/${kategori}`).once('value').then(snapshot => {

Â  Â  Â  Â  Â  Â  const data = snapshot.val() || {};

Â  Â  Â  Â  Â  Â  for (let nama in data) {

Â  Â  Â  Â  Â  Â  Â  Â  produkSelect.innerHTML += `<option value="${nama}">${nama}</option>`;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  });

Â  Â  });

Â 

Â  Â  produkSelect.addEventListener('change', () => {

Â  Â  Â  Â  const kategori = kategoriSelect.value;

Â  Â  Â  Â  const produk = produkSelect.value;

Â  Â  Â  Â  if (!produk || !kategori) return;

Â  Â  Â  Â  db.ref(`produk/${kategori}/${produk}`).once('value').then(snapshot => {

Â  Â  Â  Â  Â  Â  const data = snapshot.val();

Â  Â  Â  Â  Â  Â  if (data) {

Â  Â  Â  Â  Â  Â  Â  Â  infoProduk.innerHTML = `<b>Harga:</b> Rp${formatRupiah(data.harga)}<br><b>Deskripsi:</b> ${data.deskripsi || data.cara || '-'}`;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  });

Â  Â  });



Â  Â  document.getElementById('formPesanan').addEventListener('submit', async e => {

Â  Â  Â  Â  e.preventDefault();

Â  Â  Â  Â  const nama = document.getElementById('nama').value.trim();

Â  Â  Â  Â  const nomor = document.getElementById('nomor').value.trim();

Â  Â  Â  Â  const waAktif = normalizePhone(document.getElementById('waAktif').value.trim());

Â  Â  Â  Â  const kategori = kategoriSelect.value;

Â  Â  Â  Â  const produk = produkSelect.value;

Â  Â  Â  Â  const waktu = new Date().toISOString();

Â  Â  Â  Â  const id = "P" + Date.now();



Â  Â  Â  Â  if (!nama || !nomor || !waAktif || !kategori || !produk) return alert("Harap lengkapi semua field!");



Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  const snapProduk = await db.ref(`produk/${kategori}/${produk}`).once('value');

Â  Â  Â  Â  Â  Â  const dataProduk = snapProduk.val();

Â  Â  Â  Â  Â  Â  if (!dataProduk) return alert("Produk tidak valid.");

Â  Â  Â  Â  Â  Â  const harga = dataProduk.harga || 0;



Â  Â  Â  Â  Â  Â  await db.ref('pesanan/' + id).set({

Â  Â  Â  Â  Â  Â  Â  Â  nama, nomor, kategori, produk, harga, waktu, wa_aktif: waAktif, status: 'Belum Bayar'

Â  Â  Â  Â  Â  Â  });



Â  Â  Â  Â  Â  Â  hasilDiv.style.display = 'block';

Â  Â  Â  Â  Â  Â  hasilDiv.innerHTML = `

Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-success fw-bold">âœ… Pesanan Anda berhasil dibuat!</p>

Â  Â  Â  Â  Â  Â  Â  Â  <p><b>ID Pesanan Anda:</b> <code>${id}</code></p>

Â  Â  Â  Â  Â  Â  Â  Â  <div class="info">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Silakan lakukan pembayaran sejumlah Rp${formatRupiah(harga)}</strong> ke salah satu tujuan berikut:</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ul class="list-unstyled">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li><strong>ShopeePay:</strong> 081803004607</li>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li><strong>Dana:</strong> 087755432880</li>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </ul>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <a class='qr-btn upload' href="uplod.html?id=${id}">ðŸ“¤ Upload Bukti</a>

Â  Â  Â  Â  Â  Â  Â  Â  <a class='qr-btn status' href="status.html?id=${id}">ðŸ“„ Cek Status</a>

Â  Â  Â  Â  Â  Â  `;

Â  Â  Â  Â  Â  Â  document.getElementById('formPesanan').reset();

Â  Â  Â  Â  Â  Â  window.scrollTo(0, document.getElementById('hasil').offsetTop); // Scroll ke hasil

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  const pesanAdmin = `ðŸ“¦ Pesanan Baru!\n\nID: *${id}*\nNama: ${nama}\nWA: ${waAktif}\nProduk: ${produk}\nHarga: Rp${formatRupiah(harga)}\n\nCek di Admin Panel:\n${ADMIN_PANEL_LINK}`;

Â  Â  Â  Â  Â  Â  await sendWhatsApp(ADMIN_WA_NUMBER, pesanAdmin);

Â  Â  Â  Â  Â  Â  alert("Pesanan berhasil dibuat!");

Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  console.error("Error:", error);

Â  Â  Â  Â  Â  Â  alert("Terjadi kesalahan.");

Â  Â  Â  Â  }

Â  Â  });



Â  Â  window.cekStatus = () => {

Â  Â  Â  Â  const id = document.getElementById('idCek').value.trim();

Â  Â  Â  Â  if (id) window.location.href = `status.html?id=${id}`;

Â  Â  Â  Â  else alert("Masukkan ID Pesanan.");

Â  Â  };



Â  Â  // --- Logika Testimoni Baru ---

Â  Â  const testimoniContainer = document.getElementById('testimoniContainer');

Â  Â  let testimoniDijalankan = false;



Â  Â  function tampilkanSatuTesti(testimoni) {

Â  Â  Â  Â  const bubble = document.createElement('div');

Â  Â  Â  Â  bubble.className = 'testimonial-bubble';

Â  Â  Â  Â  bubble.innerHTML = `<b>${testimoni.nama || 'Anonim'}</b> ${testimoni.pesan || ''}`;

Â  Â  Â  Â Â 

Â  Â  Â  Â  // Tambahkan bubble ke container

Â  Â  Â  Â  testimoniContainer.appendChild(bubble);



Â  Â  Â  Â  // Hapus bubble setelah animasinya selesai agar tidak menumpuk

Â  Â  Â  Â  setTimeout(() => {

Â  Â  Â  Â  Â  Â  if (bubble.parentElement) {

Â  Â  Â  Â  Â  Â  Â  Â  testimoniContainer.removeChild(bubble);

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }, 10500); // Waktu animasi fadeOut + sedikit buffer



Â  Â  Â  Â  // Jaga agar container scroll ke bawah saat ada bubble baru

Â  Â  Â  Â  testimoniContainer.scrollTop = testimoniContainer.scrollHeight;

Â  Â  }



Â  Â  db.ref('testimoni').on('value', snap => {

Â  Â  Â  Â  const dataTesti = Object.values(snap.val() || {});

Â  Â  Â  Â  if (dataTesti.length > 0 && !testimoniDijalankan) {

Â  Â  Â  Â  Â  Â  testimoniDijalankan = true;

Â  Â  Â  Â  Â  Â  let i = 0;

Â  Â  Â  Â  Â  Â  // Tampilkan testimoni secara berkala

Â  Â  Â  Â  Â  Â  setInterval(() => {

Â  Â  Â  Â  Â  Â  Â  Â  tampilkanSatuTesti(dataTesti[i]);

Â  Â  Â  Â  Â  Â  Â  Â  i = (i + 1) % dataTesti.length; // Ulang dari awal jika sudah habis

Â  Â  Â  Â  Â  Â  }, 3000); // Tampilkan testimoni baru setiap 3 detik

Â  Â  Â  Â  } else if (dataTesti.length === 0) {

Â  Â  Â  Â  Â  Â  testimoniContainer.innerHTML = `<p style="text-align:center;">Belum ada testimoni. Jadilah yang pertama!</p>`;

Â  Â  Â  Â  }

Â  Â  });



Â  Â  document.getElementById('formTestimoni').addEventListener('submit', async (e) => {

Â  Â  Â  Â  e.preventDefault();

Â  Â  Â  Â  const nama = document.getElementById('testiNama').value.trim();

Â  Â  Â  Â  const pesan = document.getElementById('testiPesan').value.trim();

Â  Â  Â  Â  const statusEl = document.getElementById('testiStatus');

Â  Â  Â  Â Â 

Â  Â  Â  Â  if (!nama || !pesan) {

Â  Â  Â  Â  Â  Â  statusEl.textContent = 'Nama dan pesan tidak boleh kosong!';

Â  Â  Â  Â  Â  Â  statusEl.style.color = 'red';

Â  Â  Â  Â  Â  Â  return;

Â  Â  Â  Â  }



Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  // Simpan ke 'testimoni_pending' untuk dimoderasi Admin

Â  Â  Â  Â  Â  Â  await db.ref('testimoni_pending').push({

Â  Â  Â  Â  Â  Â  Â  Â  nama: nama,

Â  Â  Â  Â  Â  Â  Â  Â  pesan: pesan,

Â  Â  Â  Â  Â  Â  Â  Â  waktu: new Date().toISOString()

Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  statusEl.textContent = 'Terima kasih! Testimoni Anda akan kami review.';

Â  Â  Â  Â  Â  Â  statusEl.style.color = 'green';

Â  Â  Â  Â  Â  Â  document.getElementById('formTestimoni').reset();

Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  statusEl.textContent = 'Gagal mengirim testimoni. Coba lagi.';

Â  Â  Â  Â  Â  Â  statusEl.style.color = 'red';

Â  Â  Â  Â  Â  Â  console.error('Error kirim testimoni:', error);

Â  Â  Â  Â  }

Â  Â  });





Â  Â  // --- Logika FAQ ---

Â  Â  const faqData = [

Â  Â  Â  { q: "Bagaimana cara memesan?", a: "Pilih kategori dan produk yang Anda inginkan, isi data diri, lalu klik 'Pesan Sekarang'. Lakukan pembayaran sesuai instruksi dan unggah bukti bayar." },

Â  Â  Â  { q: "Apa saja metode pembayaran yang diterima?", a: "Saat ini kami menerima pembayaran melalui ShopeePay dan Dana. Nomor tujuan pembayaran akan muncul setelah Anda membuat pesanan." },

Â  Â  Â  { q: "Berapa lama prosesnya?", a: "Setelah Anda mengunggah bukti bayar dan kami verifikasi, pesanan akan diproses secepatnya, biasanya dalam 5-15 menit pada jam kerja." },

Â  Â  Â  { q: "Apakah transaksi di sini aman?", a: "Sangat aman. Kami menjamin kerahasiaan data Anda dan keamanan transaksi. Anda juga bisa mengecek status pesanan kapan saja." }

Â  Â  ];



Â  Â  const faqContainer = document.getElementById('faq-container');

Â  Â  faqData.forEach(item => {

Â  Â  Â  Â  const faqItem = document.createElement('div');

Â  Â  Â  Â  faqItem.className = 'faq-item';

Â  Â  Â  Â  faqItem.innerHTML = `

Â  Â  Â  Â  Â  Â  <div class="faq-question">${item.q}</div>

Â  Â  Â  Â  Â  Â  <div class="faq-answer">${item.a}</div>

Â  Â  Â  Â  `;

Â  Â  Â  Â  faqContainer.appendChild(faqItem);

Â  Â  });



Â  Â  document.querySelectorAll('.faq-question').forEach(item => {

Â  Â  Â  Â  item.addEventListener('click', () => {

Â  Â  Â  Â  Â  Â  // Tutup semua item lain sebelum membuka yang ini

Â  Â  Â  Â  Â  Â  document.querySelectorAll('.faq-item').forEach(el => {

Â  Â  Â  Â  Â  Â  Â  Â  if(el !== item.parentElement && el.classList.contains('active')) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  el.classList.remove('active');

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  // Buka/tutup item yang di-klik

Â  Â  Â  Â  Â  Â  item.parentElement.classList.toggle('active');

Â  Â  Â  Â  });

Â  Â  });



Â  Â  // --- Konten Dinamis dari Admin (jika ada) ---

Â  Â  db.ref('dynamicContent/index').once('value').then(snapshot => {

Â  Â  Â  Â  const konten = snapshot.val() || {};

Â  Â  Â  Â  if (konten.css) {

Â  Â  Â  Â  Â  Â  const styleTag = document.createElement('style');

Â  Â  Â  Â  Â  Â  styleTag.textContent = konten.css;

Â  Â  Â  Â  Â  Â  document.head.appendChild(styleTag);

Â  Â  Â  Â  }

Â  Â  Â  Â  if (konten.html) {

Â  Â  Â  Â  Â  Â  document.getElementById('dynamic-content-area').innerHTML = konten.html;

Â  Â  Â  Â  }

Â  Â  Â  Â  if (konten.js) {

Â  Â  Â  Â  Â  Â  const scriptTag = document.createElement('script');

Â  Â  Â  Â  Â  Â  scriptTag.textContent = konten.js;

Â  Â  Â  Â  Â  Â  document.body.appendChild(scriptTag);

Â  Â  Â  Â  }

Â  Â  });

Â  </script>

</body>

</html>
